---
title: 位运算
date: 2023-11-1 12:00:00
tags: [数据结构, 算法]
categories: [数据结构与算法]
---

**两个问题与一个补充**

1. x 的二进制表示中第 k 位是多少
2. 统计 x 二进制表示中 1 的个数
3. 原码、补码、反码

<!--more-->

## 模板

### 模板1：n 的二进制表示中第 k 位是几

> 从个位起，个位为第 0 位

1. 先把第 k 位移到最后一位（右移 k）
2. 看个位是几（与 1）

```cpp
cout << (n >> k & 1);
```



### 模板2：lowbit(x)，统计x中1的个数

`lowbit(x)`：返回 x 的最后一位 1 之后的二进制数（二进制，即最右边）

- 例如：x = 10100，lowbit(x) = 100

```cpp
// 整数的负数是补码（~x+1 取反加一）
// -x = ~x+1
int lowbit(int x){
    return x & -x;
}

// 从最低位开始循环消除最后一位1，同时统计消除的次数，即得到二进制x中1的个数
x -= lowbit(x);
```

例题：[801. 二进制中1的个数](https://www.acwing.com/problem/content/803/)



## 知识点补充：原码、反码、补码

原码：`0...01010`

反码：`1...10101`

补码：`1...10110`（~x+1）

### 一种解释

```markdown
x + (-x) = 0
-x = 0 - x
   = 0...0 - x
   = 10...0 - x（从更高位借1）
   = ~x + 1
```

